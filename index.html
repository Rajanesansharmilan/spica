<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Amuthasurabi Admin</title>
  <!-- base:css -->
  <link rel="stylesheet" href="vendors/mdi/css/materialdesignicons.min.css">
  <link rel="stylesheet" href="vendors/css/vendor.bundle.base.css">
  
  <!-- endinject -->
  <!-- plugin css for this page -->
  <!-- End plugin css for this page -->
  <!-- inject:css -->
  <link rel="stylesheet" href="css/style.css">
  <!-- endinject -->
  <!-- web servericon" -->
  <!-- <link rel="shortcut icon" href="images/favicon.png" /> -->
  <script type="text/javascript">
    function preventBack() {
        window.history.forward();
    }
    setTimeout("preventBack()", 0);
    window.onunload = function () { null };
</script>

<style>
  .row {
  display: flex;
}
.col-lg-6 {
  display: inline-block;
}
.row {
  display: flex;
}

.col-lg-6 {
  flex-basis: 50%;
}

/* .grid-margin {
  margin: 5px;
} */

.stretch-card {
  flex-grow: 1;
}

.card {
  background-color: #f8f8f8;
  border: 1px solid #ccc;
  border-radius: 4px;
  padding: 10px;
}

.card-title {
  font-size: 18px;
  margin-bottom: 10px;
}

#lineChart {
  width: 100%;
  height: 300px;
}


</style>

</head>

<body>
  <div class="container-scroller d-flex">
    <!-- partial:./partials/_sidebar.html -->
    <nav class="sidebar sidebar-offcanvas" id="sidebar">
      <ul class="nav">
        <li class="nav-item sidebar-category">
          <!-- <p>Navigation</p> -->
          <span></span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="index.html">
            <i class="mdi mdi-view-quilt menu-icon"></i>
            <span class="menu-title">Dashboard</span>
            <div class="badge badge-info badge-pill">2</div>
          </a>
        </li>
        
        <!-- </li> -->
        <!-- <li class="nav-item">
          <a class="nav-link" href="pages/charts/chartjs.html">
            <i class="mdi mdi-chart-pie menu-icon"></i>
            <span class="menu-title">Charts</span>
          </a>
        </li> -->
       
        <li class="nav-item">
          <a class="nav-link" href="addproduct.html">
            <i class="mdi mdi-emoticon menu-icon"></i>
            <span class="menu-title">Add Products</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../spica/contactdetails.html">
            <i class="mdi mdi-file-document-box-outline menu-icon"></i>
            <span class="menu-title">Contact_Details</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../spica/register.html">
            <i class="mdi mdi-grid-large menu-icon"></i>
            <span class="menu-title">Register_Details</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="././order.html">
            <i class="mdi mdi-file-document-box-outline menu-icon"></i>
            <span class="menu-title">Order_Details</span>
          </a>
        </li>
        <!-- --------------------------logout---------------------------------------------------------- -->
        <li class="nav-item">
          <a class="nav-link" href="../../index.html">
            <i class="mdi mdi-file-document-box-outline menu-icon"></i>
            <span class="menu-title">Logout</span>
          </a>
        </li>

        <!-- -------------------------------------------------------------------------------------------------- -->
       
      </ul>
    </nav>
    <!-- partial -->
    <div class="container-fluid page-body-wrapper">
      <!-- partial:./partials/_navbar.html -->
      <nav class="navbar col-lg-12 col-12 px-0 py-0 py-lg-4 d-flex flex-row">
        <div class="navbar-menu-wrapper d-flex align-items-center justify-content-end">
          <button class="navbar-toggler navbar-toggler align-self-center" type="button" data-toggle="minimize">
            <span class="mdi mdi-menu"></span>
          </button>
          <div class="navbar-brand-wrapper">
            <!-- <a class="navbar-brand brand-logo" href="../../home.html"><img src="../../images/cow.png" alt="logo"/></a> -->
            <a class="navbar-brand brand-logo-mini" href="index.html"><img src="images/logo-mini.svg" alt="logo" /></a>
          </div>
          <h4 class="font-weight-bold mb-0 d-none d-md-block mt-1">Welcome back, Amuthasurabi</h4>
          <ul class="navbar-nav navbar-nav-right">
            <li class="nav-item">
              <!-- <h4 class="mb-0 font-weight-bold d-none d-xl-block">Mar 12, 2019 - Apr 10, 2019</h4> -->
            </li>

          </ul>
          <button class="navbar-toggler navbar-toggler-right d-lg-none align-self-center" type="button"
            data-toggle="offcanvas">
            <span class="mdi mdi-menu"></span>
          </button>
        </div>

      </nav>
      <!-- partial -->

      <div>
        <div class="row">
          <div class="col-lg-6 grid-margin stretch-card">
            <div class="card">
              <div class="card-body">
                <h4 class="card-title">Line chart</h4>
                <canvas id="lineChart"></canvas>
              </div>
            </div>
          </div>
          <div class="col-lg-6 grid-margin stretch-card">
            <div class="card">
              <div class="card-body">
                <h4 class="card-title">Bar chart</h4>
                <canvas id="barChart"></canvas>
              </div>
            </div>
          </div>
        </div>
      </div>
      
 



    </div>
    <!-- content-wrapper ends -->
    <!-- partial:./partials/_footer.html -->
    <!-- <footer class="footer">
          <div class="card">
            <div class="card-body">
             
            </div>
          </div>
        </footer> -->
    <!-- partial -->
  </div>
  <!-- main-panel ends -->
  </div>
  <!-- page-body-wrapper ends -->
  </div>
  <!-- container-scroller -->

  <!-- base:js -->
  <script src="vendors/js/vendor.bundle.base.js"></script>
  <!-- endinject -->
  <!-- Plugin js for this page-->
  <script src="vendors/chart.js/Chart.min.js"></script>
  <script src="./vendors/chart.js/Chart.min.js"></script>
  <!-- End plugin js for this page-->
  <!-- inject:js -->
  <script src="js/off-canvas.js"></script>
  <script src="js/hoverable-collapse.js"></script>
  <script src="js/template.js"></script>
  <!-- endinject -->
  <!-- plugin js for this page -->
  <!-- End plugin js for this page -->
  <!-- Custom js for this page-->
  <!-- <script src="js/dashboard.js"></script> -->
  <!-- End custom js for this page-->


  
  

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    
    window.addEventListener('DOMContentLoaded', () => {
      // Fetch order data
      fetch('/order')
        .then(response => response.json())
        .then(data => {
          const productLabels = data.map(order => order.product);
          const totalData = data.map(order => order.total);

          // Line chart
          const lineChartCanvas = document.getElementById('lineChart');
          new Chart(lineChartCanvas, {
            type: 'line',
            data: {
              labels: productLabels,
              datasets: [{
                label: 'Total',
                data: totalData,
                backgroundColor: 'rgba(54, 162, 235, 0.2)',
                borderColor: 'rgba(75, 192, 192, 1)',
                borderWidth: 1
              }]
            },
            options: {
              scales: {
                x: {
                  title: {
                    display: true,
                    text: 'Product'
                  }
                },
                y: {
                  title: {
                    display: true,
                    text: 'Total'
                  }
                }
              }
            }
          });

          // Populate order details table
          const orderTableBody = document.getElementById('orderTableBody');

          data.forEach((order, index) => {
            const row = document.createElement('tr');
            row.innerHTML = `
                      <td>${order.name}</td>
                      <td>${order.email}</td>
                      <td>${order.phone}</td>
                      <td>${order.product}</td>
                      <td>${order.total}</td>
                      <td>${order.quantity}</td>
                      <td>
                        <a href="/deletedd/${order._id}">
                          <span class="btn">Delete</span>
                        </a>
                      </td>
                    `;
            // Add animation class to table rows
            row.classList.add('animate__animated', 'animate__fadeInUp', `animate__delay-${index + 1}s`);
            orderTableBody.appendChild(row);
          });
        })
        .catch(error => {
          console.error(error);
        });
    });

  </script>



 <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> 
   <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Fetch order data
      fetch('/order')
        .then(response => response.json())
        .then(data => {
          const productLabels = data.map(order => order.product);
          const totalData = data.map(order => order.total);

          // Bar chart
          const barChartCanvas = document.getElementById('barChart');
          new Chart(barChartCanvas, {
            type: 'bar',
            data: {
              labels: productLabels,
              datasets: [{
                label: 'Total',
                data: totalData,
                backgroundColor: 'rgba(75, 192, 192, 0.2)',
                borderColor: 'rgba(75, 192, 192, 1)',
                borderWidth: 1
              }]
            },
            options: {
              scales: {
                x: {
                  title: {
                    display: true,
                    text: 'Product'
                  }
                },
                y: {
                  title: {
                    display: true,
                    text: 'Total'
                  }
                }
              }
            }
          });

          // Populate order details table
          // const orderTableBody = document.getElementById('orderTableBody');

          data.forEach((order, index) => {
            const row = document.createElement('tr');
            row.innerHTML = `
                      <td>${order.name}</td>
                      <td>${order.email}</td>
                      <td>${order.phone}</td>
                      <td>${order.product}</td>
                      <td>${order.total}</td>
                      <td>${order.quantity}</td>
                      <td>
                        <a href="/deletedd/${order._id}">
                          <span class="btn">Delete</span>
                        </a>
                      </td>
                    `;
            // Add animation class to table rows
            row.classList.add('animate__animated', 'animate__fadeInUp', `animate__delay-${index + 1}s`);
            orderTableBody.appendChild(row);
          });
        })
        .catch(error => {
          console.error(error);
        });
    });
  </script>
  
</body>

</html>